@PACKAGE_INIT@

# 包含导出的目标配置
include("${CMAKE_CURRENT_LIST_DIR}/NekiraReflectionTargets.cmake")

# 包含反射生成工具配置
include("${CMAKE_CURRENT_LIST_DIR}/NekiraReflectToolConfig.cmake")

# 设置变量
set(NekiraReflection_VERSION @PROJECT_VERSION@)
set(NekiraReflection_INCLUDE_DIRS "@PACKAGE_CMAKE_INSTALL_INCLUDEDIR@")
set(NekiraReflection_LIBRARIES NekiraReflection::NekiraReflection)

# 检查所有组件
check_required_components(NekiraReflection)

# 搜索反射生成工具的路径
get_target_property(ReflectToolPath NekiraReflectTool::NekiraReflectTool IMPORTED_LOCATION)

# 若空，则尝试获取Release版本的路径
if(NOT ReflectToolPath)
    get_target_property(ReflectToolPath NekiraReflectTool::NekiraReflectTool IMPORTED_LOCATION_RELEASE)
endif()

# 若仍然为空，则尝试获取Debug版本的路径
if(NOT ReflectToolPath)
    get_target_property(ReflectToolPath NekiraReflectTool::NekiraReflectTool IMPORTED_LOCATION_DEBUG)
endif()

# 设置反射生成工具的路径
set(NekiraReflection_TOOL "${ReflectToolPath}")

message(STATUS "NekiraReflection: ${NekiraReflection_VERSION}")
message(STATUS "NekiraReflectTool: ${NekiraReflection_TOOL}")