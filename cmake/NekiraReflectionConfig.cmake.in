@PACKAGE_INIT@

# 设置变量
set(NEKIRA_REFLECTION_VERSION @PROJECT_VERSION@)

# 查找依赖
find_package(LLVM REQUIRED CONFIG)
find_package(Clang REQUIRED CONFIG)

# 包含目标
include("${CMAKE_CURRENT_LIST_DIR}/NekiraReflectionTargets.cmake")

# 检查组件
set(NekiraReflection_FOUND TRUE)

# 检查所有必需的组件是否可用
foreach(component ${NekiraReflection_FIND_COMPONENTS})
    if(NOT TARGET NekiraReflection::${component})
        set(NekiraReflection_FOUND FALSE)
        set(NekiraReflection_NOT_FOUND_MESSAGE "Missing component: ${component}")
        break()
    endif()
endforeach()

if(NekiraReflection_FOUND)
    # 设置变量供用户使用
    get_target_property(NekiraReflection_INCLUDE_DIRS NekiraReflection::NekiraReflection INTERFACE_INCLUDE_DIRECTORIES)
    
    # 提供便利的变量
    set(NekiraReflection_LIBRARIES NekiraReflection::NekiraReflection)
    set(NekiraReflection_GENERATOR_EXECUTABLE NekiraReflection::NekiraReflectGen)
    
    message(STATUS "Found NekiraReflection ${NEKIRA_REFLECTION_VERSION}")
endif()

check_required_components(NekiraReflection)